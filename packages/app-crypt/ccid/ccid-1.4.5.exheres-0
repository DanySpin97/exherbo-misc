# Copyright 2009 Pierre Lejeune <superheron@gmail.com>
# Distributed under the terms of the GNU General Public License v2

require alioth-debian [ project=pcsclite dl_number=3672 ]

SUMMARY="CCID free software driver"
DESCRIPTION="This package provides the source code for a generic USB CCID (Chip/Smart Card Interface
Devices) driver and ICCD (Integrated Circuit(s) Card Devices)."
HOMEPAGE="${HOMEPAGE}/ccid.html"

LICENCES="LGPL-2.1"
SLOT="0"
PLATFORMS="~amd64 ~x86"
MYOPTIONS="serial usb"

DEPENDENCIES="
    build+run:
        sys-apps/pcsc-lite[>=1.6.5]
        usb? ( dev-libs/libusb:1 )
    run:
        sys-fs/udev
"

DEFAULT_SRC_CONFIGURE_OPTION_ENABLES=(
    'serial twinserial'
    'usb libusb'
)

src_install() {
    default
    insinto etc/udev/rules.d
    doins src/92_pcscd_ccid.rules
}
